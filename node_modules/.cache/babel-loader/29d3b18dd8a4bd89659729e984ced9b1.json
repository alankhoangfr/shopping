{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlankHoang\\\\Desktop\\\\freecodeacademy\\\\shoppingBasket\\\\client\\\\src\\\\components\\\\Map.js\";\nimport React, { Component } from 'react';\nimport { withGoogleMap, GoogleMap, withScriptjs, InfoWindow, Marker } from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\nimport Autocomplete from 'react-google-autocomplete';\nimport StandaloneSearchBox from \"react-google-maps/lib/components/places/StandaloneSearchBox\";\nGeocode.setApiKey('AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI');\nGeocode.enableDebug();\nexport class Map extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      mapPosition: {\n        lat: this.props.center.lat,\n        lng: this.props.center.lng\n      },\n      markerPosition: {\n        lat: this.props.center.lat,\n        lng: this.props.center.lng\n      }\n    };\n\n    this.onPlaceSelected = (place, event) => {\n      console.log(place);\n      const address = place.formatted_address,\n            latValue = place.geometry.location.lat(),\n            lngValue = place.geometry.location.lng(); // Set these values in the state.\n\n      this.setState({\n        map: null,\n        mapPosition: {\n          lat: latValue,\n          lng: lngValue\n        },\n        markerPosition: {\n          lat: latValue,\n          lng: lngValue\n        }\n      });\n    };\n\n    this.mapmoved = () => {\n      console.log(\"drag:\" + JSON.stringify(this.state.map.getCenter()));\n    };\n\n    this.maploaded = map => {\n      if (this.state.map != null) {\n        return;\n      }\n\n      this.setState({\n        map: map\n      });\n      console.log(this.state);\n    };\n\n    this.onZoom = () => {\n      console.log(\"zoom:\" + JSON.stringify(this.state.map.getCenter()));\n    };\n\n    this.searchBox = text => {\n      console.log(\"text : \" + text.getPlaces());\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(nextProps);\n\n    if (nextState.mapPosition.lat !== this.state.mapPosition.lat) {\n      return true;\n    } else if (this.state.mapPosition.lat === nextState.mapPosition.lat) {\n      return false;\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    const AsyncMap = withScriptjs(withGoogleMap(props => React.createElement(GoogleMap, {\n      google: this.props.google,\n      ref: this.maploaded,\n      defaultZoom: this.props.zoom,\n      defaultCenter: {\n        lat: this.state.mapPosition.lat,\n        lng: this.state.mapPosition.lng\n      },\n      onDragEnd: this.mapmoved,\n      onZoomChanged: this.onZoom,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Marker, {\n      google: this.props.google,\n      name: 'Dolores park',\n      draggable: true,\n      position: {\n        lat: this.state.markerPosition.lat,\n        lng: this.state.markerPosition.lng\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Marker, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Autocomplete, {\n      style: {\n        width: '100%',\n        height: '40px',\n        paddingLeft: '16px',\n        marginTop: '2px',\n        marginBottom: '100px'\n      },\n      onPlaceSelected: this.onPlaceSelected,\n      types: ['(regions)'],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(StandaloneSearchBox, {\n      ref: this.searchBox,\n      bounds: props.bounds,\n      onPlacesChanged: this.searchBox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Customized your placeholder\",\n      style: {\n        boxSizing: \"border-box\",\n        border: \"1px solid transparent\",\n        width: \"240px\",\n        height: \"32px\",\n        padding: \"0 12px\",\n        borderRadius: \"3px\",\n        boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.3)\",\n        fontSize: \"14px\",\n        outline: \"none\",\n        textOverflow: \"ellipses\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })))));\n    return React.createElement(\"div\", {\n      style: {\n        width: \"500px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(AsyncMap, {\n      googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI&libraries=places\",\n      loadingElement: React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }),\n      containerElement: React.createElement(\"div\", {\n        style: {\n          height: this.props.height\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }),\n      mapElement: React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }));\n  }\n\n}\nexport default Map;","map":{"version":3,"sources":["C:\\Users\\AlankHoang\\Desktop\\freecodeacademy\\shoppingBasket\\client\\src\\components\\Map.js"],"names":["React","Component","withGoogleMap","GoogleMap","withScriptjs","InfoWindow","Marker","Geocode","Autocomplete","StandaloneSearchBox","setApiKey","enableDebug","Map","state","mapPosition","lat","props","center","lng","markerPosition","onPlaceSelected","place","event","console","log","address","formatted_address","latValue","geometry","location","lngValue","setState","map","mapmoved","JSON","stringify","getCenter","maploaded","onZoom","searchBox","text","getPlaces","shouldComponentUpdate","nextProps","nextState","render","AsyncMap","google","zoom","width","height","paddingLeft","marginTop","marginBottom","bounds","boxSizing","border","padding","borderRadius","boxShadow","fontSize","outline","textOverflow"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withGoogleMap, GoogleMap, withScriptjs, InfoWindow, Marker } from \"react-google-maps\";\r\nimport Geocode from \"react-geocode\";\r\nimport Autocomplete from 'react-google-autocomplete';\r\nimport StandaloneSearchBox from \"react-google-maps/lib/components/places/StandaloneSearchBox\"\r\n\r\nGeocode.setApiKey('AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI');\r\nGeocode.enableDebug();\r\n\r\n\r\nexport class Map extends Component {\r\n    state = {\r\n        mapPosition:{\r\n            lat: this.props.center.lat,\r\n            lng: this.props.center.lng\r\n        },\r\n        markerPosition:{\r\n            lat:this.props.center.lat,\r\n            lng:this.props.center.lng\r\n        },\r\n    }\r\n    shouldComponentUpdate( nextProps, nextState ){\r\n        console.log(nextProps)\r\n        if (\r\n        nextState.mapPosition.lat !== this.state.mapPosition.lat \r\n        ) {\r\n        return true\r\n        } else if ( this.state.mapPosition.lat  === nextState.mapPosition.lat ){\r\n        return false\r\n        }\r\n     }\r\n    onPlaceSelected = ( place,event ) => {\r\n        console.log(place)\r\n        const address = place.formatted_address,\r\n        latValue = place.geometry.location.lat(),\r\n        lngValue = place.geometry.location.lng();\r\n        // Set these values in the state.\r\n        this.setState({\r\n            map:null,\r\n            mapPosition: {\r\n                lat: latValue,\r\n                lng: lngValue\r\n            },\r\n            markerPosition: {\r\n                lat: latValue,\r\n                lng: lngValue\r\n            },\r\n        })\r\n    };\r\n    mapmoved=()=>{\r\n        console.log(\"drag:\"+JSON.stringify(this.state.map.getCenter()))\r\n    }\r\n    maploaded=(map)=>{\r\n        if (this.state.map !=null){\r\n            return\r\n        }\r\n        this.setState({\r\n            map:map\r\n        })\r\n        console.log(this.state)\r\n    }\r\n    onZoom = ()=>{\r\n        console.log(\"zoom:\"+JSON.stringify(this.state.map.getCenter()))\r\n    }\r\n    searchBox = (text)=>{\r\n        console.log(\"text : \" + text.getPlaces())\r\n\r\n    }\r\n    render() {\r\n        console.log(this.props)\r\n    const AsyncMap = withScriptjs(\r\n        withGoogleMap(\r\n            props => (\r\n                <GoogleMap \r\n                google={this.props.google}\r\n                ref = {this.maploaded}\r\n                defaultZoom={this.props.zoom}\r\n                defaultCenter={{ lat: this.state.mapPosition.lat, lng: this.state.mapPosition.lng }}\r\n                onDragEnd={this.mapmoved}\r\n                onZoomChanged = {this.onZoom}\r\n                >\r\n                    <Marker google={this.props.google}\r\n                        name={'Dolores park'}\r\n                        draggable={true}\r\n                        position={{ lat: this.state.markerPosition.lat, lng: this.state.markerPosition.lng }}\r\n                    />\r\n                    <Marker />\r\n                    <Autocomplete\r\n                        style={{\r\n                        width: '100%',\r\n                        height: '40px',\r\n                        paddingLeft: '16px',\r\n                        marginTop: '2px',\r\n                        marginBottom: '100px'\r\n                        }}\r\n                        onPlaceSelected={ this.onPlaceSelected }\r\n                        types={['(regions)']}\r\n                    />\r\n                    <StandaloneSearchBox\r\n                      ref={this.searchBox}\r\n                      bounds={props.bounds}\r\n                      onPlacesChanged={this.searchBox}\r\n                    >\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Customized your placeholder\"\r\n                        style={{\r\n                          boxSizing: `border-box`,\r\n                          border: `1px solid transparent`,\r\n                          width: `240px`,\r\n                          height: `32px`,\r\n                          padding: `0 12px`,\r\n                          borderRadius: `3px`,\r\n                          boxShadow: `0 2px 6px rgba(0, 0, 0, 0.3)`,\r\n                          fontSize: `14px`,\r\n                          outline: `none`,\r\n                          textOverflow: `ellipses`\r\n                        }}\r\n                      />\r\n                    </StandaloneSearchBox>\r\n                </GoogleMap>\r\n            )\r\n        )\r\n    )\r\n\r\n    \r\n\r\n    return (\r\n         <div style={{width:\"500px\"}}>\r\n\r\n            <AsyncMap\r\n                googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI&libraries=places\"\r\n                loadingElement={\r\n                 <div style={{ height: `100%` }} />\r\n                }\r\n                containerElement={\r\n                 <div style={{ height: this.props.height }} />\r\n                }\r\n                mapElement={\r\n                 <div style={{ height: `100%` }} />\r\n                }\r\n            />\r\n        </div>\r\n\r\n     \r\n    )\r\n  }\r\n}\r\n\r\nexport default Map"]},"metadata":{},"sourceType":"module"}