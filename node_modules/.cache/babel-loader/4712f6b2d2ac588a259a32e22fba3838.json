{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlankHoang\\\\Desktop\\\\freecodeacademy\\\\shoppingBasket\\\\client\\\\src\\\\components\\\\AddItem\\\\FormItem.js\";\nimport React from 'react';\nimport { Card, CardImg, CardText, CardBody, CardLink, CardTitle, CardSubtitle, Form, FormGroup, Label, Input, Col, Button } from 'reactstrap';\nimport SearchBox from \"./SearchBox\";\nimport { addItemToShop, getSuperMarkets, putPrice } from \"../../actions/SuperMarketActions\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nexport class FormItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.result = result => {\n      this.setState({\n        result: result\n      });\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      const _this$state = this.state,\n            result = _this$state.result,\n            price = _this$state.price;\n      const newItem = {\n        item_id: result.item_id,\n        brand_name: result.brand_name,\n        price: price,\n        timeStamp: new Date(),\n        superMarket_id: this.props.supermarket_selected.id\n      };\n\n      if (this.props.superMarket[this.props.supermarket_selected.id].item !== undefined) {\n        if (this.props.superMarket[this.props.supermarket_selected.id].item.item_id == undefined) {\n          console.log(\" verygood\");\n        } else {\n          this.props.addItemToShop(newItem);\n        }\n      } else {\n        this.props.addItemToShop(newItem);\n      }\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      result: \"\",\n      price: \"\"\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount\");\n    this.props.getSuperMarkets();\n  }\n\n  shouldComponentUpdate(nextState, nextProps) {\n    if (this.state.result !== nextState.result) {\n      return true;\n    }\n  }\n\n  render() {\n    let card = React.createElement(Card, {\n      style: {\n        marginTop: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(CardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.result.brand_name), React.createElement(CardSubtitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, this.state.result.description)), React.createElement(CardImg, {\n      top: true,\n      width: \"100%\",\n      src: this.state.result.image,\n      alt: \"Card image cap\",\n      style: {\n        maxWidth: \"150px\",\n        maxHeight: \"150px\",\n        margin: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(CardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Some quick example text to build on the card title and make up the bulk of the card's content.\"), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      row: true,\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"previousPrice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Previous Price\"), React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Input, {\n      name: \"price\",\n      placeholder: \"Price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      row: true,\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Price\"), React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Input, {\n      name: \"price\",\n      placeholder: \"Price\",\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }))), React.createElement(FormGroup, {\n      check: true,\n      row: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: {\n        size: 10,\n        offset: 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Submit\"))))));\n\n    if (this.state.result === \"\") {\n      console.log(\"new item\");\n      card = null;\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(SearchBox, {\n      result: this.result,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), card);\n  }\n\n}\nFormItem.propTypes = {\n  addItemToShop: PropTypes.func.isRequired,\n  getSuperMarkets: PropTypes.func.isRequired,\n  putPrice: PropTypes.func.isRequired,\n  superMarket: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  superMarket: state.superMarket\n});\n\nexport default connect(mapStateToProps, {\n  getSuperMarkets,\n  addItemToShop\n})(FormItem);","map":{"version":3,"sources":["C:\\Users\\AlankHoang\\Desktop\\freecodeacademy\\shoppingBasket\\client\\src\\components\\AddItem\\FormItem.js"],"names":["React","Card","CardImg","CardText","CardBody","CardLink","CardTitle","CardSubtitle","Form","FormGroup","Label","Input","Col","Button","SearchBox","addItemToShop","getSuperMarkets","putPrice","connect","PropTypes","FormItem","Component","constructor","props","result","setState","onSubmit","event","preventDefault","state","price","newItem","item_id","brand_name","timeStamp","Date","superMarket_id","supermarket_selected","id","superMarket","item","undefined","console","log","onChange","target","name","value","componentDidMount","shouldComponentUpdate","nextState","nextProps","render","card","marginTop","description","image","maxWidth","maxHeight","margin","size","offset","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Card, CardImg, CardText, CardBody, CardLink,\r\n  CardTitle, CardSubtitle,Form, FormGroup, Label, Input,Col,Button } from 'reactstrap';\r\nimport SearchBox from \"./SearchBox\"\r\nimport {addItemToShop,getSuperMarkets,putPrice} from \"../../actions/SuperMarketActions\"\r\nimport {connect} from \"react-redux\"\r\nimport PropTypes from \"prop-types\"\r\n\r\n\r\nexport class FormItem extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n             result:\"\",\r\n             price:\"\"\r\n         }\r\n     }\r\n     componentDidMount(){\r\n\t\tconsole.log(\"componentDidMount\")\r\n\t\tthis.props.getSuperMarkets()\r\n\t}\r\n    shouldComponentUpdate(nextState,nextProps){\r\n         if(this.state.result!==nextState.result){\r\n             return true\r\n         }\r\n    }\r\n\tresult = (result)=>{\r\n    \tthis.setState({result:result})\r\n\t}\r\n\tonSubmit=(event)=>{\r\n\t\tevent.preventDefault()\r\n\t\tconst {result,price}=this.state\r\n\t\tconst newItem = {\r\n\t\t\titem_id:result.item_id,\r\n\t\t\tbrand_name:result.brand_name,\t\r\n\t\t\tprice:price,\r\n\t\t\ttimeStamp:new Date(),\r\n\t\t\tsuperMarket_id:this.props.supermarket_selected.id\r\n\t\t}\r\n\t\tif(this.props.superMarket[this.props.supermarket_selected.id].item!==undefined){\r\n\t\t\tif(this.props.superMarket[this.props.supermarket_selected.id].item.item_id==undefined){\r\n\t\t\t\tconsole.log(\" verygood\")\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tthis.props.addItemToShop(newItem)\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tthis.props.addItemToShop(newItem)\r\n\t\t}\t\t\r\n\t\t\r\n\t}\r\n\tonChange=(event)=>{\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]:event.target.value\r\n\t\t})\r\n\t}\r\n    render() {\r\n\r\n        let card =\r\n            <Card style={{marginTop:\"20px\"}}>\r\n            <CardBody className=\"text-center\">\r\n                <CardTitle>{this.state.result.brand_name}</CardTitle>\r\n                <CardSubtitle>{this.state.result.description}</CardSubtitle>\r\n            </CardBody>\r\n            <CardImg top width=\"100%\" src={this.state.result.image} alt=\"Card image cap\"\r\n             style={{maxWidth:\"150px\",maxHeight:\"150px\",margin:\"auto\"}}/>\r\n            <CardBody>\r\n                <CardText>Some quick example text to build on the card title and make up the bulk of the card's content.</CardText>\r\n                <Form onSubmit={this.onSubmit}>\r\n                    <FormGroup row className=\"text-center\">\r\n                    \t<Label for=\"previousPrice\">Previous Price</Label>\r\n                    \t<Col sm={8}>\r\n                       \t\t<Input name=\"price\" placeholder=\"Price\" />\r\n                        </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row className=\"text-center\">\r\n                        <Label for=\"price\">Price</Label>\r\n                        <Col sm={8}>\r\n                       \t\t<Input name=\"price\" placeholder=\"Price\" onChange={this.onChange\t}/>\r\n                        </Col>\r\n                    </FormGroup>\r\n    \t\t\t\t<FormGroup check row>\r\n    \t\t\t\t\t<Col sm={{ size: 10, offset: 2 }}>\r\n    \t\t\t\t\t\t<Button>Submit</Button>\r\n     \t\t\t\t\t</Col>\r\n    \t\t\t\t</FormGroup>\r\n    \t\t\t</Form>\r\n    \t\t</CardBody>\r\n    \t\t</Card>\r\n    \t\t\tif (this.state.result===\"\"){\r\n       \t\t\t\tconsole.log(\"new item\")\r\n       \t\t\t\tcard=null\r\n    \t\t\t}\r\n\treturn (\r\n    \t<div>\r\n        \t<SearchBox\r\n            \tresult = {this.result}/>\r\n        \t{card}\r\n    \t</div>\r\n   \r\n\t\t);\r\n\t}\r\n}\r\n\r\nFormItem.propTypes = {\r\n\taddItemToShop:PropTypes.func.isRequired,\r\n\tgetSuperMarkets:PropTypes.func.isRequired,\r\n\tputPrice:PropTypes.func.isRequired,\r\n\tsuperMarket:PropTypes.object.isRequired\r\n}\r\n\r\nconst mapStateToProps = (state)=>({\r\n\tsuperMarket:state.superMarket\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps,{getSuperMarkets,addItemToShop})(FormItem)"]},"metadata":{},"sourceType":"module"}