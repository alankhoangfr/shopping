{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlankHoang\\\\Desktop\\\\freecodeacademy\\\\shoppingbasket\\\\client\\\\src\\\\components\\\\MarkerShop.js\";\nimport React, { Component } from 'react';\nimport basket from \"../image/basket.png\";\nimport basketSelected from \"../image/basketSelected.png\";\nimport { Marker, InfoWindow } from \"react-google-maps\";\nexport class MarkerShop extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDblClick = (marker, event) => {\n      var mark = this.props.markers1.filter(mark => {\n        return mark.photo_id === marker;\n      });\n      mark = mark[0];\n      this.props.markerSelected(mark);\n      this.setState({\n        markerSelected: mark.photo_id\n      });\n    };\n\n    this.iconBasket = marker => {\n      let icon;\n\n      if (this.state.markerSelected === marker.photo_id) {\n        icon = basketSelected;\n      } else {\n        icon = basket;\n      }\n\n      return icon;\n    };\n\n    this.state = {\n      markerSelected: \"\"\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.selected !== this.props.selected) {\n      return true;\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.log(\"componentDidUpdate\", prevState, this.state, prevProps, this.props, snapshot);\n\n    if (this.props.selected !== prevProps.selected) {\n      this.setState({\n        markerSelected: this.props.selected\n      });\n    }\n  }\n\n  render() {\n    return this.props.markers1.map(marker => {\n      console.log(this.state.markerSelected, \"markerselected\", marker.photo_id, \"are they the same\");\n      return React.createElement(Marker, {\n        key: marker.photo_id,\n        position: {\n          lat: marker.lat,\n          lng: marker.lng\n        },\n        icon: this.iconBasket(marker),\n        onDblClick: this.onDblClick.bind(this, marker.photo_id),\n        animation: window.google.maps.Animation.DROP,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    });\n  }\n\n}\nexport default MarkerShop;","map":{"version":3,"sources":["C:\\Users\\AlankHoang\\Desktop\\freecodeacademy\\shoppingbasket\\client\\src\\components\\MarkerShop.js"],"names":["React","Component","basket","basketSelected","Marker","InfoWindow","MarkerShop","constructor","props","onDblClick","marker","event","mark","markers1","filter","photo_id","markerSelected","setState","iconBasket","icon","state","shouldComponentUpdate","nextProps","nextState","selected","componentDidUpdate","prevProps","prevState","snapshot","console","log","render","map","lat","lng","bind","window","google","maps","Animation","DROP"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,SAASC,MAAT,EAAgBC,UAAhB,QAAmC,mBAAnC;AAEA,OAAO,MAAMC,UAAN,SAAyBL,SAAzB,CAAmC;AACzCM,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;;AADiB,SAkBlBC,UAlBkB,GAkBL,CAACC,MAAD,EAAQC,KAAR,KAAgB;AAC5B,UAAIC,IAAI,GAAG,KAAKJ,KAAL,CAAWK,QAAX,CAAoBC,MAApB,CAA4BF,IAAD,IAAQ;AAC7C,eAAOA,IAAI,CAACG,QAAL,KAAiBL,MAAxB;AACA,OAFU,CAAX;AAGAE,MAAAA,IAAI,GAAGA,IAAI,CAAC,CAAD,CAAX;AACA,WAAKJ,KAAL,CAAWQ,cAAX,CAA0BJ,IAA1B;AACA,WAAKK,QAAL,CAAc;AAACD,QAAAA,cAAc,EAACJ,IAAI,CAACG;AAArB,OAAd;AACA,KAzBiB;;AAAA,SA0BlBG,UA1BkB,GA0BJR,MAAD,IAAU;AACtB,UAAIS,IAAJ;;AACA,UAAI,KAAKC,KAAL,CAAWJ,cAAX,KAA4BN,MAAM,CAACK,QAAvC,EAAgD;AAC9CI,QAAAA,IAAI,GAAGhB,cAAP;AACA,OAFF,MAEM;AACJgB,QAAAA,IAAI,GAAGjB,MAAP;AACA;;AACF,aAAOiB,IAAP;AACA,KAlCiB;;AAEjB,SAAKC,KAAL,GAAW;AACVJ,MAAAA,cAAc,EAAC;AADL,KAAX;AAIA;;AACDK,EAAAA,qBAAqB,CAACC,SAAD,EAAWC,SAAX,EAAqB;AACzC,QAAID,SAAS,CAACE,QAAV,KAAuB,KAAKhB,KAAL,CAAWgB,QAAtC,EAA+C;AAC9C,aAAO,IAAP;AACA;AACD;;AACDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,QAAvB,EAAgC;AACjDC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCH,SAAjC,EAA2C,KAAKP,KAAhD,EAAsDM,SAAtD,EAAgE,KAAKlB,KAArE,EAA2EoB,QAA3E;;AACA,QAAG,KAAKpB,KAAL,CAAWgB,QAAX,KAAsBE,SAAS,CAACF,QAAnC,EAA4C;AAC3C,WAAKP,QAAL,CAAc;AAACD,QAAAA,cAAc,EAAC,KAAKR,KAAL,CAAWgB;AAA3B,OAAd;AACA;AACD;;AAkBDO,EAAAA,MAAM,GAAE;AACP,WACC,KAAKvB,KAAL,CAAWK,QAAX,CAAoBmB,GAApB,CAAyBtB,MAAD,IAAY;AACnCmB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKV,KAAL,CAAWJ,cAAvB,EAAsC,gBAAtC,EAAuDN,MAAM,CAACK,QAA9D,EAAuE,mBAAvE;AACD,aACC,oBAAC,MAAD;AACE,QAAA,GAAG,EAAEL,MAAM,CAACK,QADd;AAEE,QAAA,QAAQ,EAAE;AAAEkB,UAAAA,GAAG,EAAEvB,MAAM,CAACuB,GAAd;AAAmBC,UAAAA,GAAG,EAAExB,MAAM,CAACwB;AAA/B,SAFZ;AAGE,QAAA,IAAI,EAAG,KAAKhB,UAAL,CAAgBR,MAAhB,CAHT;AAIE,QAAA,UAAU,EAAI,KAAKD,UAAL,CAAgB0B,IAAhB,CAAqB,IAArB,EAA0BzB,MAAM,CAACK,QAAjC,CAJhB;AAKE,QAAA,SAAS,EAAEqB,MAAM,CAACC,MAAP,CAAcC,IAAd,CAAmBC,SAAnB,CAA6BC,IAL1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAYA,KAdA,CADD;AAmBA;;AAxDwC;AA6D1C,eAAelC,UAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport basket from \"../image/basket.png\"\r\nimport basketSelected from \"../image/basketSelected.png\"\r\nimport { Marker,InfoWindow  } from \"react-google-maps\";\r\n\r\nexport class MarkerShop extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state={\r\n\t\t\tmarkerSelected:\"\",\r\n\t\t}\r\n\r\n\t}\r\n\tshouldComponentUpdate(nextProps,nextState){\r\n\t\tif (nextProps.selected !== this.props.selected){\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot){\r\n\t\tconsole.log(\"componentDidUpdate\",prevState,this.state,prevProps,this.props,snapshot)\r\n\t\tif(this.props.selected!==prevProps.selected){\r\n\t\t\tthis.setState({markerSelected:this.props.selected})\r\n\t\t}\r\n\t}\r\n\tonDblClick = (marker,event)=>{\t\r\n\t\tvar mark = this.props.markers1.filter((mark)=>{\r\n\t\t\treturn mark.photo_id=== marker\r\n\t\t})\r\n\t\tmark = mark[0]\r\n\t\tthis.props.markerSelected(mark)\r\n\t\tthis.setState({markerSelected:mark.photo_id})\r\n\t} \r\n\ticonBasket = (marker)=>{\r\n\t\tlet icon\r\n\t\tif (this.state.markerSelected===marker.photo_id){\r\n\t\t\t\ticon = basketSelected\r\n\t\t\t}else{\r\n\t\t\t\ticon = basket\r\n\t\t\t}\r\n\t\treturn icon\t\r\n\t}\t  \t\t\r\n\trender(){\r\n\t\treturn(\r\n\t\t\tthis.props.markers1.map((marker) => {\t\t\t\t\r\n\t\t\t\tconsole.log(this.state.markerSelected,\"markerselected\",marker.photo_id,\"are they the same\")\r\n\t\t\treturn( \r\n\t\t\t\t<Marker\r\n\t\t\t\t\t\tkey={marker.photo_id}\r\n\t\t\t\t\t\tposition={{ lat: marker.lat, lng: marker.lng }}\r\n\t\t\t\t\t\ticon ={this.iconBasket(marker)}\r\n\t\t\t\t\t\tonDblClick = {this.onDblClick.bind(this,marker.photo_id)}\r\n\t\t\t\t\t\tanimation={window.google.maps.Animation.DROP}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t</Marker>\r\n\t\t\t)\r\n\t\t\t\t\r\n\t\t})\r\n\r\n    \t)\r\n\r\n\t}\r\n\r\n\t}\r\n\r\n\r\nexport default MarkerShop"]},"metadata":{},"sourceType":"module"}