{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AlankHoang\\\\Desktop\\\\freecodeacademy\\\\shoppingBasket\\\\client\\\\src\\\\components\\\\SearchShop\\\\MarkerShop.js\";\nimport React, { Component } from 'react';\nimport basket from \"../../image/basket.png\";\nimport basketSelected from \"../../image/basketSelected.png\";\nimport { Marker, InfoWindow } from \"react-google-maps\";\nexport class MarkerShop extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDblClick = (marker, event) => {\n      var markerObject = this.props.markers1.filter(mark => {\n        return mark.id === marker;\n      });\n      markerObject = markerObject[0];\n      this.props.markerSelected(markerObject);\n      this.setState({\n        markerSelected: markerObject.id,\n        currentlySelected: true\n      });\n    };\n\n    this.iconBasket = marker => {\n      let selected;\n\n      if (this.props.shopSelected === \"\" || this.state.currentlySelected === true) {\n        selected = this.state.markerSelected;\n      } else {\n        selected = this.props.shopSelected.id;\n      }\n\n      let icon;\n\n      if (selected === marker.id) {\n        icon = basketSelected;\n      } else {\n        icon = basket;\n      }\n\n      return icon;\n    };\n\n    this.state = {\n      markerSelected: \"\",\n      currentlySelected: \"\"\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log(\"markerShop ShouldCOmponentUpdate\", nextProps, this.props);\n\n    if (this.props.shopSelected !== nextProps.shopSelected) {\n      console.log(\"new marker selected\");\n      return true;\n    } else if (this.props.markerSelected === nextProps.markerSelected) {\n      console.log(\"marker clicked\");\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.log(\"markerShop componentDidUpdate\", prevProps, this.props);\n\n    if (this.props.shopSelected !== prevProps.shopSelected) {\n      console.log(\"marker clicked\");\n      this.setState({\n        currentlySelected: true\n      });\n    }\n  }\n\n  render() {\n    console.log(\"markershop\", this.props, this.state);\n    return this.props.markers1.map(marker => {\n      return React.createElement(Marker, {\n        key: marker.id,\n        position: {\n          lat: marker.lat,\n          lng: marker.lng\n        },\n        icon: this.iconBasket(marker),\n        onDblClick: this.onDblClick.bind(this, marker.id),\n        animation: window.google.maps.Animation.DROP,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    });\n  }\n\n}\nexport default MarkerShop;","map":{"version":3,"sources":["C:\\Users\\AlankHoang\\Desktop\\freecodeacademy\\shoppingBasket\\client\\src\\components\\SearchShop\\MarkerShop.js"],"names":["React","Component","basket","basketSelected","Marker","InfoWindow","MarkerShop","constructor","props","onDblClick","marker","event","markerObject","markers1","filter","mark","id","markerSelected","setState","currentlySelected","iconBasket","selected","shopSelected","state","icon","shouldComponentUpdate","nextProps","nextState","console","log","componentDidUpdate","prevProps","prevState","snapshot","render","map","lat","lng","bind","window","google","maps","Animation","DROP"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport basket from \"../../image/basket.png\"\r\nimport basketSelected from \"../../image/basketSelected.png\"\r\nimport { Marker,InfoWindow  } from \"react-google-maps\";\r\n\r\nexport class MarkerShop extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state={\r\n\t\t\tmarkerSelected:\"\",\r\n\t\t\tcurrentlySelected:\"\",\r\n\t\t}\r\n\t}\r\n\tshouldComponentUpdate(nextProps, nextState){\r\n\t\tconsole.log(\"markerShop ShouldCOmponentUpdate\",nextProps,this.props)\r\n\t\tif(this.props.shopSelected !==nextProps.shopSelected){\r\n\t\t\tconsole.log(\"new marker selected\")\r\n\t\t\treturn true\r\n\t\t}else if(this.props.markerSelected===nextProps.markerSelected){\r\n\t\t\tconsole.log(\"marker clicked\")\r\n\t\t\treturn true\t\r\n\t\t}else{\r\n\t\t\treturn false\t\r\n\t\t}\r\n\t}\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot){\r\n\t\tconsole.log(\"markerShop componentDidUpdate\",prevProps,this.props)\r\n\t\tif(this.props.shopSelected !==prevProps.shopSelected){\r\n\t\t\tconsole.log(\"marker clicked\")\r\n\t\t\tthis.setState({currentlySelected:true})\r\n\t\t}\r\n\t}\r\n\tonDblClick = (marker,event)=>{\t\r\n\t\tvar markerObject = this.props.markers1.filter((mark)=>{\r\n\t\t\treturn mark.id=== marker\r\n\t\t})\r\n\t\tmarkerObject = markerObject[0]\r\n\t\tthis.props.markerSelected(markerObject)\r\n\t\tthis.setState({\r\n\t\t\tmarkerSelected:markerObject.id,\r\n\t\t\tcurrentlySelected:true})\r\n\t} \r\n\ticonBasket = (marker)=>{\r\n\t\tlet selected \r\n\t\tif(this.props.shopSelected===\"\"||this.state.currentlySelected===true){\r\n\t\t\tselected=this.state.markerSelected\r\n\t\t}else{\r\n\t\t\tselected=this.props.shopSelected.id\r\n\t\t}\r\n\t\tlet icon\r\n\t\tif (selected===marker.id){\r\n\t\t\t\ticon = basketSelected\r\n\t\t\t}else{\r\n\t\t\t\ticon = basket\r\n\t\t\t}\r\n\t\treturn icon\t\r\n\t}\t  \t\t\r\n\trender(){\r\n\t\tconsole.log(\"markershop\",this.props,this.state)\r\n\t\treturn(\r\n\t\t\tthis.props.markers1.map((marker) => {\t\t\t\t\r\n\t\t\treturn( \r\n\t\t\t\t<Marker\r\n\t\t\t\t\t\tkey={marker.id}\r\n\t\t\t\t\t\tposition={{ lat: marker.lat, lng: marker.lng }}\r\n\t\t\t\t\t\ticon ={this.iconBasket(marker)}\r\n\t\t\t\t\t\tonDblClick = {this.onDblClick.bind(this,marker.id)}\r\n\t\t\t\t\t\tanimation={window.google.maps.Animation.DROP}\r\n\t\t\t\t>\r\n\r\n\t\t\t\t</Marker>\r\n\t\t\t)\r\n\t\t\t\t\r\n\t\t})\r\n\r\n    \t)\r\n\r\n\t}\r\n\r\n\t}\r\n\r\n\r\nexport default MarkerShop"]},"metadata":{},"sourceType":"module"}