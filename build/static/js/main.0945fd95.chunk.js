(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjBREQNg4Ow2MEAAABw0lEQVRIx7XST0iUYRDH8c+uRpDQISOsKIhAD9WhdG9BEAUGnbsEER0CA29Bpw4hRGCnoD9KXYTsWtAhSSqIDrULIgWVGJ2CiMwyTd3ofTq0vL7tvrHvrjQPL8z8hvkyM++wSmsx7KBps80jRkR+uWd/84guV30XObSaUdqVXVvdNia8aKasNfaKTnrYYPWCK7k4OG3IRz8aAmw0vxLsFfQ12MF9H/Jx8MqingYBBcWVHfw0qZBIDuhKLRp1t+Jtt0mpNZEqOqPNAsjrtTMVMB0DCigmUyeEhu7xkkh7PiEUK9Ss1uO9meQIb80l1rhVn9aaoi8GBZDTbaw6/dhU7B9RFmreJ+sr+U7B2WrAoMiGjAMcFxwg/5dYlLMvI6AgMqFqyhL6dWcC9HpjrlrM+Zwyd/orO0V1B0HJHrszdbBkMU0eEHRk3ILaDniO22YyVI4bTgOMGXU45YBq7esfwH+zbW555nJ8d7DLHU+dt7Z+eZt3lpRExmNti1nfTApu1gccFRzDBcGOitYvKGDEcrKHfCogoKXyhYoWxVpQ19aZsuylyINY6zBj3mvBjSxL3Oy6Jy5qS2idRjxyzppm/so/7Tcq94+QjVQ+/AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNS0xN1QxNDo1NDoxNCswMjowMCchyF0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDUtMTdUMTQ6NTQ6MTQrMDI6MDBWfHDhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},188:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADdAAAA3QFwU6IHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAa1QTFRF////AACAAABVAACAMwBmKwCAIACAJwB2JACAIgB3IACAGgBzIwB0IAB1HQd1HAd1HgZ3HwV4HwV6HQV2HgR5HwR4HQR4HAR4HwN3HgN5HwN4HwN5HQN3HQN4HgN3HQV4HQV4HwV4HgV5HgR4HgR3HgR4HQR3HwR3HwR4HwR5HwR3HgN5HwN4HgN4HgN4HQN3HQN4HQV5HgV4HgR3HwR3HgR4HgR4HgR4HgR4HgR4HgR5HgR4HgR4RU+gaJPDYoa9caXNdq3ROz2VY0+mZFGoeLTTHgR4VW6vgXC7HgR4NC6PWXSzNC6OVW2wW3m1W3q2gcHbHgR4LiOIhcngTV6nS1umTzmYHgR4HgR4RE6ekIDFkYHFitTlHQR4HgR4jNjnJA5+HgR4erXVNjGPfrzZMy2NMimNMiqMkeHsHgV4HQV4MhmGHgV4LxaDHgR4HgR4LhaDk+TtLCCGLRSBHgR4KhuEHgR5HwV4JhOAHwV5JRJ/k+buHgR4HgR4lOfvHgR4HgR4keLsIAd6HgR4HgR4HwZ5Hwd5HgR4HgV4lOfvm4zMHgR4lObvlOfvm4zMlU76tgAAAIt0Uk5TAAIDBAUGCA0ODxAUFhgjJSsxMjQ7QkZISUxRUlhZXmBobHB3eHl6fH2FjZKVl5mcnaWoq6+wsbO0tbi5u7+/wMDAwcHBwcLCwsPDw8TExMTExsfHyMnJys7Ozs7P0NLS19jZ29ze39/f4OHh4uPk5eXl5ufo6e3w8PHx8fP09ff5+fr7/Pz8/v7+/tyk7M4AAAE2SURBVBgZlcGFWsIAFAbQH1QUEbG7u7u7xW7sTuzAFltBrtdndkNEPzannoNfpeUaoCjbZqsOgxJD7tVNCBTpHgugbG4Cyooean5QHApREh2uyjubhSiU2lne2C5EPrc9LO+4Ak7jyyzq73XrXmLBAWXBKe/5mplfh8/dTjtZMEKRcEqkeZbTQDo4BVEzy5k044PK2seCu/qWTwMseLkohUvHOgtWzunTwh0zb1AqXHLslyw1SOFwiaMZlmq0aeESSKNNUmuLcDshGdY4uNVa9FIafMmmACiKoroSiQh8k79nkcjAP/mnVCVoINJnlcd4QWLIvkWFEKi373coE55CyPjWZtUCiKVph2lTBQ/BZHxrtfoBiKEph8msgqcu+z4VQKA2Px1ROiR8kyvjvSHSZZRFq/A3788byH5ScK71AAAAAElFTkSuQmCC"},191:function(e,t,a){e.exports=a(412)},196:function(e,t,a){},412:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),s=a.n(o),l=a(9),i=a(10),c=a(12),m=a(11),d=a(13),p=(a(196),a(197),a(57)),u=a(413),g=a(414),h=a(415),k=a(416),f=a(417),A=a(418),S=a(419),v=a(435),E=a(420),b=a(421),y=a(422),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(u.a,{color:"light",light:!0,expand:"md"},r.a.createElement(g.a,{href:"/"},"Shopping Basket"),r.a.createElement(h.a,{onClick:this.toggle}),r.a.createElement(k.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(f.a,{className:"ml-auto",navbar:!0},r.a.createElement(A.a,null,r.a.createElement(S.a,{tag:p.b,exact:!0,to:"/",activeClassName:"active"},"Compare Baskets")),r.a.createElement(v.a,{nav:!0,inNavbar:!0},r.a.createElement(E.a,{nav:!0,caret:!0},"Add Basket"),r.a.createElement(b.a,{right:!0},r.a.createElement(y.a,null,r.a.createElement(S.a,{tag:p.b,exact:!0,to:"/AddShops",activeClassName:"active"},"Add Shops")),r.a.createElement(y.a,null,"Add Items")))))))}}]),t}(n.Component),O=a(47),C=a(427),B=a(428),j=a(429),I=a(7),D=a(423),w=a(424),P=a(425),R=a(426),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onclickMarker=function(e,t){console.log(e),a.setState({markerHighlighted:e.id})},a.onDoubleClick=function(e){a.setState({markerSelected:e}),a.props.shopSelected(e)},a.markersInBound=function(e){return e.map(function(e){var t="";return e.id===a.state.markerHighlighted&&(t="success"),r.a.createElement(D.a,{onClick:a.onclickMarker.bind(Object(I.a)(a),e),key:e.id,color:t,onDoubleClick:a.onDoubleClick.bind(Object(I.a)(a),e)},r.a.createElement(w.a,null,e.name),r.a.createElement(P.a,null,e.address),r.a.createElement(P.a,null,e.score))})},a.focusOnMarker=function(e){return r.a.createElement(D.a,null,r.a.createElement(w.a,null,e.name),r.a.createElement(P.a,null,e.address),r.a.createElement(P.a,null,e.score),r.a.createElement(P.a,null,e.details))},a.state={markerHighlighted:"",markerSelected:a.props.markerSelected},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.markerSelected!==e.markerSelected&&this.setState({markerSelected:this.props.markerSelected,markerHighlighted:""})}},{key:"render",value:function(){var e;console.log(this.props,this.state);var t=r.a.createElement("div",{style:{border:"1px solid black",height:"438px",overflowY:"scroll"}},r.a.createElement("div",null,r.a.createElement("h2",null," Stores in the area ")),r.a.createElement(R.a,null,this.markersInBound(this.props.markersInBound))),a=r.a.createElement("div",{style:{border:"1px solid black",height:"438px",overflowY:"scroll"}},this.focusOnMarker(this.state.markerSelected));return""===this.state.markerSelected?e=t:""!==this.state.markerSelected&&(e=a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"62px"}}),e)}}]),t}(n.Component),x=a(27),N=a(25),U=a.n(N),z=a(88),V=a.n(z),Q=a(33),_=a.n(Q),Z=a(40),T=function(){return{type:"GET_ITEMS"}},F=a(187),G=a.n(F),W=a(188),L=a.n(W),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDblClick=function(e,t){var n=a.props.markers1.filter(function(t){return t.id===e});n=n[0],a.props.markerSelected(n),a.setState({markerSelected:n.id,currentlySelected:!0})},a.iconBasket=function(e){return(""===a.props.shopSelected||!0===a.state.currentlySelected?a.state.markerSelected:a.props.shopSelected.id)===e.id?L.a:G.a},a.state={markerSelected:"",currentlySelected:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return console.log("markerShop ShouldCOmponentUpdate",e,this.props),this.props.shopSelected!==e.shopSelected?(console.log("new marker selected"),!0):this.props.markerSelected===e.markerSelected&&(console.log("marker clicked"),!0)}},{key:"componentDidUpdate",value:function(e,t,a){console.log("markerShop componentDidUpdate",e,this.props),this.props.shopSelected!==e.shopSelected&&(console.log("marker clicked"),this.setState({currentlySelected:!0}))}},{key:"render",value:function(){var e=this;return console.log("markershop",this.props,this.state),this.props.markers1.map(function(t){return r.a.createElement(x.Marker,{key:t.id,position:{lat:t.lat,lng:t.lng},icon:e.iconBasket(t),onDblClick:e.onDblClick.bind(e,t.id),animation:window.google.maps.Animation.DROP})})}}]),t}(n.Component);U.a.setApiKey("AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI"),U.a.enableDebug();var J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).updating_marker=function(){if(console.log("updating marker>"),!0===a.state.moving){var e=a.insideBound_bound(a.props.item.markers,a.state.bound);a.setState({markers1:e,moving:!1,input:!1,maploading:!1})}else e=a.insideBound(a.props.item.markers,a.state.movePosition),a.setState({markers1:e,moving:!1,input:!1,maploading:!1})},a.check_markers1=function(e,t){var a=[],n=[];return e.map(function(e){a.push(e.id)}),t.map(function(e){n.push(e.id)}),a.sort().toString()==n.sort().toString()},a.onPlaceSelected=function(e,t){if(console.log(e),void 0!==e.name)U.a.fromAddress(e.name).then(function(e){var t=e.results[0].geometry.location,n=t.lat,r=t.lng;console.log(n,r);var o=a.insideBound(a.props.item.markers,e.results[0].geometry.location);if(void 0===n)return null;a.setState({mapPosition:{lat:n,lng:r},markerPosition:{lat:n,lng:r},movePosition:{lat:n,lng:r},zoom:11,markers1:o,input:!0,moving:!1})});else{e.formatted_name;var n=e.geometry.location.lat(),r=e.geometry.location.lng(),o=a.insideBound(a.props.item.markers,e.geometry.location);a.setState({mapPosition:{lat:n,lng:r},markerPosition:{lat:n,lng:r},movePosition:{lat:n,lng:r},zoom:11,markers1:o,input:!0,moving:!1})}a.props.markerSelected("")},a.mapmoved=function(){console.log("mapMoved:"+JSON.stringify(a.state.map.getBounds()));var e=a.insideBound_bound(a.props.item.markers,a.state.map.getBounds());a.setState({bound:a.state.map.getBounds(),movePosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},mapPosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},markers1:e,moving:!0})},a.maploaded=function(e){console.log("maploaded"),e&&a.setState({map:e,maploading:!0})},a.onZoom=function(){console.log("zoom:"+a.state.map.getCenter(),a.state.map.getZoom());var e=a.insideBound_bound(a.props.item.markers,a.state.map.getBounds());a.setState({bound:a.state.map.getBounds(),movePosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},mapPosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},markers1:e,zoom:a.state.map.getZoom(),moving:!0})},a.insideBound=function(e,t){if(null!=t&&null!=e){var n=[];return e.map(function(e){e.lat>t.lat-.2&&e.lat<t.lat+.2&&e.lng>t.lng-.2&&e.lng<t.lng+.2&&n.push(e)}),console.log(n,"lets look center",t,e),a.props.markersInBound(n),n}return[]},a.insideBound_bound=function(e,t){if(null!=t&&null!=e){var n=[];return e.map(function(e){e.lat>t.na.j&&e.lat<t.na.l&&e.lng>t.ia.j&&e.lng<t.ia.l&&n.push(e)}),console.log(n,"lets look bound",t,e),a.props.markersInBound(n),n}return[]},a.markerSelected=function(e){a.props.markerSelected(e)},a.state={bound:null,input:"",mapPosition:{lat:a.props.center.lat,lng:a.props.center.lng},markerPosition:{lat:a.props.center.lat,lng:a.props.center.lng},movePosition:{lat:a.props.center.lat,lng:a.props.center.lng},map:null,markers1:[],zoom:10,moving:!1,maploading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.props.getItems(),this.updating_marker()}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("should Componeent update",t,this.state,e,this.props),!1===this.check_markers1(t.markers1,this.state.markers1)?(console.log("change"),!0):!0===t.input?(console.log("change position"),!0):e.shopSelected!==this.props.shopSelected?(console.log("new marker selected"),!0):!0===this.check_markers1(t.markers1,this.state.markers1)?(console.log("no change"),!1):void 0}},{key:"componentDidUpdate",value:function(e,t,a){if(console.log("componentDidUpdate",t,this.state,e,this.props,a),this.props.shopSelected!==e.shopSelected)return null;this.updating_marker()}},{key:"render",value:function(){var e=this;console.log(this.state,"rendering state"),console.log(this.props,"rendering props");var t,a=Object(x.withScriptjs)(Object(x.withGoogleMap)(function(t){return r.a.createElement(x.GoogleMap,{ref:e.maploaded,zoom:e.state.zoom,defaultCenter:{lat:e.props.lat,lng:e.props.lng},center:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng},onDragEnd:e.mapmoved,onZoomChanged:e.onZoom},r.a.createElement(V.a,{style:{width:"200%",height:"40px",paddingLeft:"16px",margin:"2px auto 20px auto"},onPlaceSelected:e.onPlaceSelected,types:["(regions)"],placeholder:"Enter and select location"}),r.a.createElement(x.Marker,{draggable:!0,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),r.a.createElement(K,{markers1:e.state.markers1,markerSelected:e.markerSelected,shopSelected:e.props.shopSelected}))}));return t=r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(a,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:this.props.height,display:"flex",flexDirection:"column-reverse"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})),r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),q=Object(Z.b)(function(e){return{item:e.item}},{getItems:T})(J),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={markerSelected:"",markersInBound:[],shopSelected:""},a.markerSelected=function(e){a.setState({markerSelected:e})},a.markersInBound=function(e){a.setState({markersInBound:e})},a.shopSelected=function(e){a.setState({shopSelected:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state,"CompareBasket"),r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Search for the Supermarkets near you")),r.a.createElement(B.a,null,r.a.createElement(j.a,{sm:6},r.a.createElement(q,{center:{lat:-33.78,lng:151.2},height:"500px",zoom:8,markerSelected:this.markerSelected,markersInBound:this.markersInBound,shopSelected:this.state.shopSelected})),r.a.createElement(j.a,{sm:6},r.a.createElement(M,{markerSelected:this.state.markerSelected,markersInBound:this.state.markersInBound,shopSelected:this.shopSelected})))))}}]),t}(n.Component),Y=a(434),$=a(48),ee=a(430),te=a(431),ae=a(432),ne=a(433),re=a(184);U.a.setApiKey("AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI"),U.a.enableDebug();var oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){a.setState(Object($.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=a.state.address+" "+a.state.city+" "+a.state.state+" "+a.state.postcode,n=a.props.item.markers.map(function(e){return e.completeAddress===t&&e.name===a.state.name}),r=a.state.address.search(/(undefined)/g);if(!0===n.every(function(e){return!1===e})&&-1===r)U.a.fromAddress(t).then(function(e){var n=e.results[0].geometry.location,r=n.lat,o=n.lng;a.props.markerPosition({lat:r,lng:o}),a.props.mapPosition({lat:r,lng:o}),console.log(r,o);var s={id:_()(),lat:r,lng:o,name:a.state.name,address:a.state.address,score:"",details:"",city:a.state.city,state:a.state.state,postcode:a.state.postcode,completeAddress:t};a.props.addItem(s),a.props.markerInfoFromAddress(s)});else{if(!1===n.every(function(e){return!1===e}))return a.props.openAlert(),null;if(r>=0)return a.props.openAlertDetails(),null}},a.state={name:"",address:"",city:"",state:"",postcode:"",completeAddress:"",markerPresent:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.props.getItems()}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("shouldComponentUpdate",e,t),this.props.markerInfo.completeAddress!==e.markerInfo.completeAddress?(console.log("new address"),!0):this.state!==t&&(console.log("<chainging></chainging>"),!0)}},{key:"componentDidUpdate",value:function(e){this.props.markerInfo.completeAddress!==e.markerInfo.completeAddress&&(console.log("componentDidUpdate",e,this.props),this.setState({address:this.props.markerInfo.address,city:this.props.markerInfo.city,state:this.props.markerInfo.state,postcode:this.props.markerInfo.postcode,completeAddress:this.props.markerInfo.completeAddress,markerPresent:!0}))}},{key:"render",value:function(){var e;return console.log(this.state),r.a.createElement(ee.a,{onSubmit:this.onSubmit,style:{marginTop:"20px"}},r.a.createElement(B.a,{form:!0},r.a.createElement(j.a,{md:12},r.a.createElement(te.a,{row:!0},r.a.createElement(ae.a,null,"Name"),r.a.createElement(ne.a,{type:"text",name:"name",onChange:this.onChange,value:this.state.name,required:!0}))),r.a.createElement(j.a,{md:12},r.a.createElement(te.a,{row:!0},r.a.createElement(ae.a,null,"Address"),r.a.createElement(ne.a,{type:"text",name:"address",onChange:this.onChange,value:this.state.address,required:!0}))),r.a.createElement(j.a,{md:12},r.a.createElement(te.a,{row:!0},r.a.createElement(ae.a,null,"City"),r.a.createElement(ne.a,{type:"text",name:"city",onChange:this.onChange,value:this.state.city,required:!0})))),r.a.createElement(B.a,{form:!0},r.a.createElement(j.a,{md:6},r.a.createElement(te.a,{row:!0},r.a.createElement(ae.a,null,"State"),r.a.createElement(ne.a,{type:"text",name:"state",onChange:this.onChange,value:this.state.state,required:!0}))),r.a.createElement(j.a,{md:6},r.a.createElement(te.a,{row:!0},r.a.createElement(ae.a,null,"Postcode"),r.a.createElement(ne.a,(e={type:"text",name:"postcode",onChange:this.onChange},Object($.a)(e,"type","number"),Object($.a)(e,"value",this.state.postcode),Object($.a)(e,"required",!0),e))))),r.a.createElement(re.a,null,"Add Supermarket"))}}]),t}(n.Component),se=Object(Z.b)(function(e){return{item:e.item}},{getItems:T,addItem:function(e){return{type:"ADD_ITEM",payload:e}}})(oe),le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onclickMarker=function(e,t){console.log(e),a.setState({markerHighlighted:e.id})},a.onDoubleClick=function(e){a.setState({markerSelected:e}),a.props.shopSelected(e)},a.markersInBound=function(e){return e.map(function(e){console.log(e.id,a.state.markerHighlighted);var t="";return e.id===a.state.markerHighlighted&&(t="success"),r.a.createElement(D.a,{onClick:a.onclickMarker.bind(Object(I.a)(a),e),key:e.id,color:t,onDoubleClick:a.onDoubleClick.bind(Object(I.a)(a),e)},r.a.createElement(w.a,null,e.name),r.a.createElement(P.a,null,e.address),r.a.createElement(P.a,null,e.score))})},a.focusOnMarker=function(e){return r.a.createElement(D.a,null,r.a.createElement(w.a,null,e.name),r.a.createElement(P.a,null,e.address),r.a.createElement(P.a,null,e.score),r.a.createElement(P.a,null,e.details))},a.state={markerHighlighted:"",markerSelected:a.props.markerSelected},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props!==e||this.state!==t}},{key:"componentDidUpdate",value:function(e,t){this.props.markerSelected!==e.markerSelected&&this.setState({markerSelected:this.props.markerSelected,markerHighlighted:""}),this.props.markers!==e.markers&&this.setState({markerSelected:"",markerHighlighted:this.props.markerSelected.id}),this.props.markerHighlighted!==e.markerHighlighted&&this.setState({markerSelected:"",markerHighlighted:this.props.markerHighlighted.id})}},{key:"render",value:function(){var e;console.log(this.props,this.state);var t=r.a.createElement("div",{style:{border:"1px solid black",height:"438px",overflowY:"scroll"}},r.a.createElement("div",null,r.a.createElement("h2",null," Stores in the area ")),r.a.createElement(R.a,null,this.markersInBound(this.props.markersInBound))),a=r.a.createElement("div",{style:{border:"1px solid black",height:"438px",overflowY:"scroll"}},this.focusOnMarker(this.state.markerSelected));return""===this.state.markerSelected?e=t:""!==this.state.markerSelected&&(e=a),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:"62px"}}),e)}}]),t}(n.Component);U.a.setApiKey("AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI"),U.a.enableDebug();var ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).updating_marker=function(){if(console.log("updating marker>"),!0===a.state.moving){var e=a.insideBound_bound(a.props.item.markers,a.state.bound);a.setState({markers1:e,moving:!1,input:!1,maploading:!1})}else e=a.insideBound(a.props.item.markers,a.state.movePosition),a.setState({markers1:e,moving:!1,input:!1,maploading:!1})},a.getStreetNumber=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"street_number"===e[t].types[0])return e[t].long_name},a.getStreet=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"route"===e[t].types[0])return e[t].long_name},a.getPostcode=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0]&&"postal_code"===e[t].types[0])return e[t].long_name},a.getCity=function(e){for(var t=0;t<e.length;t++)if(e[t].types[0])for(var a=0;a<e[t].types.length;a++)if("sublocality_level_1"===e[t].types[a]||"locality"===e[t].types[a])return e[t].long_name},a.getState=function(e){for(var t=0;t<e.length;t++)for(var a=0;a<e.length;a++)if(e[a].types[0]&&"administrative_area_level_1"===e[a].types[0])return e[a].short_name},a.onMarkerDragEnd=function(e){console.log("event",e);var t=e.latLng.lat(),n=e.latLng.lng();U.a.fromLatLng(t,n).then(function(e){var r=e.results[0].formatted_address,o=e.results[0].address_components,s=a.getStreetNumber(o),l=a.getStreet(o),i=a.getCity(o),c=a.getPostcode(o),m=a.getState(o),d=s+" "+l;a.props.markerInfoMap({completeAddress:r||"",address:d||"",postcode:c||"",city:i||"",state:m||"",markerPosition:{lat:t,lng:n},mapPosition:{lat:t,lng:n}}),a.setState({markerPosition:{lat:t,lng:n}})},function(e){console.error(e)})},a.check_markers1=function(e,t){var a=[],n=[];return e.map(function(e){a.push(e.id)}),t.map(function(e){n.push(e.id)}),a.sort().toString()==n.sort().toString()},a.onPlaceSelected=function(e,t){if(console.log(e),void 0!==e.name)U.a.fromAddress(e.name).then(function(e){var t=e.results[0].geometry.location,n=t.lat,r=t.lng;console.log(n,r);var o=a.insideBound(a.props.item.markers,e.results[0].geometry.location);if(void 0===n)return null;a.setState({mapPosition:{lat:n,lng:r},markerPosition:{lat:n,lng:r},movePosition:{lat:n,lng:r},zoom:11,markers1:o,input:!0,moving:!1})});else{e.formatted_name;var n=e.geometry.location.lat(),r=e.geometry.location.lng(),o=a.insideBound(a.props.item.markers,e.geometry.location);a.setState({mapPosition:{lat:n,lng:r},markerPosition:{lat:n,lng:r},movePosition:{lat:n,lng:r},zoom:11,markers1:o,input:!0,moving:!1})}a.props.markerSelected("")},a.mapmoved=function(){console.log("mapMoved:"+JSON.stringify(a.state.map.getBounds()));var e=a.insideBound_bound(a.props.item.markers,a.state.map.getBounds());a.setState({bound:a.state.map.getBounds(),movePosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},mapPosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},markers1:e,moving:!0})},a.maploaded=function(e){console.log("maploaded"),e&&a.setState({map:e,maploading:!0})},a.onZoom=function(){console.log("zoom:"+a.state.map.getCenter(),a.state.map.getZoom());var e=a.insideBound_bound(a.props.item.markers,a.state.map.getBounds());a.setState({bound:a.state.map.getBounds(),movePosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},mapPosition:{lat:a.state.map.getCenter().lat(),lng:a.state.map.getCenter().lng()},markers1:e,zoom:a.state.map.getZoom(),moving:!0})},a.insideBound=function(e,t){if(null!=t&&null!=e){var n=[];return e.map(function(e){e.lat>t.lat-.3&&e.lat<t.lat+.3&&e.lng>t.lng-.3&&e.lng<t.lng+.3&&n.push(e)}),console.log(n,"lets look center",t,e),a.props.markersInBound(n),n}return[]},a.insideBound_bound=function(e,t){if(null!=t&&null!=e){var n=[];return e.map(function(e){e.lat>t.na.j&&e.lat<t.na.l&&e.lng>t.ia.j&&e.lng<t.ia.l&&n.push(e)}),console.log(n,"lets look bound",t,e),a.props.markersInBound(n),n}return[]},a.markerSelected=function(e){a.props.markerSelected(e)},a.state={completeAddress:"",address:"",city:"",postcode:"",state:"",bound:null,input:"",mapPosition:{lat:a.props.center.lat,lng:a.props.center.lng},markerPosition:{lat:a.props.center.lat,lng:a.props.center.lng},movePosition:{lat:a.props.center.lat,lng:a.props.center.lng},map:null,markers1:[],zoom:10,moving:!1,maploading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.props.getItems(),this.updating_marker()}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("should Componeent update",t,this.state,e,this.props),!1===this.check_markers1(t.markers1,this.state.markers1)?(console.log("change"),!0):!0===t.input?(console.log("change position"),!0):e.shopSelected!==this.props.shopSelected?(console.log("new marker selected"),!0):e.item!==this.props.item?(console.log("new shops"),!0):!0===this.check_markers1(t.markers1,this.state.markers1)?(console.log("no change"),!1):void 0}},{key:"componentDidUpdate",value:function(e,t,a){if(console.log("componentDidUpdate",t,this.state,e,this.props,a),this.props.shopSelected!==e.shopSelected)return null;this.updating_marker(),this.props.markers(this.props.item)}},{key:"render",value:function(){var e=this;console.log(this.state,"rendering state"),console.log(this.props,"rendering props");var t,a=Object(x.withScriptjs)(Object(x.withGoogleMap)(function(t){return r.a.createElement(x.GoogleMap,{ref:e.maploaded,zoom:e.state.zoom,defaultCenter:{lat:e.props.lat,lng:e.props.lng},center:{lat:e.state.mapPosition.lat,lng:e.state.mapPosition.lng},onDragEnd:e.mapmoved,onZoomChanged:e.onZoom},r.a.createElement(V.a,{style:{width:"200%",height:"40px",paddingLeft:"16px",margin:"2px auto 20px auto"},onPlaceSelected:e.onPlaceSelected,types:["(regions)"],placeholder:"Enter and select location"}),r.a.createElement(x.Marker,{draggable:!0,onDragEnd:e.onMarkerDragEnd,position:{lat:e.state.markerPosition.lat,lng:e.state.markerPosition.lng}}),r.a.createElement(K,{markers1:e.state.markers1,markerSelected:e.markerSelected,shopSelected:e.props.shopSelected}))}));return t=r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(a,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBiffp6dvrIk_EWQHzXk05VzFKb5tioZeI&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:this.props.height,display:"flex",flexDirection:"column-reverse"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})),r.a.createElement(r.a.Fragment,null,t)}}]),t}(n.Component),ce=Object(Z.b)(function(e){return{item:e.item}},{getItems:T})(ie),me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={markerSelected:"",markerHighlighted:"",markersInBound:[],shopSelected:"",markerPosition:{lat:-33.865143,lng:151.2099},markerInfo:"",mapPosition:{lat:-33.865143,lng:151.2099},markers:[],visible:!1,visibleDetails:!1},a.onDismiss=function(){a.setState({visible:!1})},a.openAlert=function(){a.setState({visible:!0})},a.onDismissDetails=function(){a.setState({visibleDetails:!1})},a.openAlertDetails=function(){a.setState({visibleDetails:!0})},a.markerSelected=function(e){a.setState({markerSelected:e})},a.markersInBound=function(e){a.setState({markersInBound:e})},a.shopSelected=function(e){a.setState({shopSelected:e})},a.markerPosition=function(e){a.setState({markerPosition:e})},a.markerInfoMap=function(e){console.log("new info added"),a.setState({markerInfo:e})},a.markerInfoFromAddress=function(e){console.log("new info added"),a.setState({markerInfo:e,shopSelected:e,markerHighlighted:e})},a.mapPosition=function(e){a.setState({mapPosition:e})},a.markers=function(e){a.setState({markers:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state,"AddShop1"),r.a.createElement("div",null,r.a.createElement(Y.a,{color:"danger",isOpen:this.state.visible,toggle:this.onDismiss},"You already have added a supermaket with the same address and name!"),r.a.createElement(Y.a,{color:"danger",isOpen:this.state.visibleDetails,toggle:this.onDismissDetails},"Please enter the details correctly"),r.a.createElement(C.a,null,r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Search for the Supermarkets near you")),r.a.createElement(B.a,null,r.a.createElement(j.a,{sm:6},r.a.createElement(ce,{center:{lat:-33.78,lng:151.2},height:"500px",zoom:8,markerSelected:this.markerSelected,markersInBound:this.markersInBound,shopSelected:this.state.shopSelected,markerInfoMap:this.markerInfoMap,mapCoord:this.mapPosition,markCoord:this.markerPosition,markers:this.markers})),r.a.createElement(j.a,{sm:6},r.a.createElement(le,{markerSelected:this.state.markerSelected,markersInBound:this.state.markersInBound,shopSelected:this.shopSelected,markers:this.state.markers,markerHighlighted:this.state.markerHighlighted}))),r.a.createElement(B.a,null,r.a.createElement("div",{className:"title",style:{marginTop:"30px"}},r.a.createElement("h1",null,"Enter the Details or move the Marker")),r.a.createElement(j.a,{sm:12},r.a.createElement(se,{markerPosition:this.markerPosition,markerInfo:this.state.markerInfo,mapPosition:this.mapPosition,markerInfoFromAddress:this.markerInfoFromAddress,openAlert:this.openAlert,openAlertDetails:this.openAlertDetails})))))}}]),t}(n.Component),de=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:X}),r.a.createElement(O.a,{path:"/AddShops",component:me})))}}]),t}(n.Component),pe=a(41),ue=a(189),ge=a(190),he=a(20),ke={markers:[{id:_()(),lat:-33.78,lng:151.2,name:"shop 1",address:"asdfddfd",score:"50.32",details:"details"},{id:_()(),lat:-33.79,lng:151.1,name:"shop 21",address:"asdfd",score:"54.32",details:"details"},{id:_()(),lat:-33.785,lng:151.23,name:"shop 3",address:"asdfd",score:"20.32",details:"details"},{id:_()(),lat:-31.95,lng:115.8605,name:"shop 4",address:"asdfd",score:"30.32",details:"details"},{id:_()(),lat:-34.070587,lng:150.791252,name:"shop 5",address:"asdfd",score:"35.32",details:"details"}]},fe=Object(pe.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(he.a)({},e);case"ADD_ITEM":return Object(he.a)({},e,{markers:[t.payload].concat(Object(ge.a)(e.markers))});default:return e}}}),Ae=[ue.a],Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pe.d,ve=Object(pe.e)(fe,{},Se(pe.a.apply(void 0,Ae))),Ee=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(Z.a,{store:ve},r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(de,null)))}}]),t}(n.Component);s.a.render(r.a.createElement(p.a,null,r.a.createElement(Ee,null)),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.0945fd95.chunk.js.map